stdClass Object
(
    [nid] => 2869
    [node_data_field_dataset_id_field_dataset_id_value] => ZTWQDxF2fkMef2rQT8xFAL4D6AfFU23e2eWHdCL9UWLsuRERpGSDPwj5KLaSvREExdwRrkgWb8YxxDqZV4YP7hRVG9SbRUocEWmm
    [node_language] => 
    [node_type] => data_set
    [node_vid] => 2895
    [node_revisions_vid] => 2895
    [node_node_data_field_dataset_ext_assoc_ref__node_revisions_vid] => 2825
    [node_node_data_field_dataset_contact_ref__node_revisions_vid] => 2887
    [node_node_data_field_dataset_datafile_ref__node_revisions_vid] => 2814
    [node_node_data_field_dataset_datamanager_ref__node_revisions_vid] => 2888
    [node_node_data_field_dataset_fieldcrew_ref__node_revisions_vid] => 2825
    [node_node_data_field_dataset_labcrew_ref__node_revisions_vid] => 2889
    [node_node_data_field_dataset_owner_ref__node_revisions_vid] => 2888
    [node_node_data_field_dataset_site_ref__node_revisions_vid] => 2846
    [node_node_data_field_datafile_site_ref__node_revisions_vid] => 
    [node_node_data_field_datafile_variable_ref__node_revisions_vid] => 2808
)

<docid>
<scope>knb-lter-pie</scope>
−
<identifier>
ZTWQDxF2fkMef2rQT8xFAL4D6AfFU23e2eWHdCL9UWLsuRERpGSDPwj5KLaSvREExdwRrkgWb8YxxDqZV4YP7hRVG9SbRUocEWmm
</identifier>
<revision>2895</revision>
</docid>
<documentType>eml://ecoinformatics.org/eml-2.0.1</documentType>
<documentURL>http://inigo.lternet.edu/prototype/eml_view1/2869</documentURL>
<FileVid>2814</FileVid>
<Vid>2889</Vid>
<OwnerVid>2888</OwnerVid>
<SitefromdatasetVid>2846</SitefromdatasetVid>
<VariablesVid>2809</VariablesVid>
<VIDadding>28566</VIDadding>
</document> 
           

<document>
−
<docid>
<scope>knb-lter-pie</scope>
−
<identifier>
ZTWQDxF2fkMef2rQT8xFAL4D6AfFU23e2eWHdCL9UWLsuRERpGSDPwj5KLaSvREExdwRrkgWb8YxxDqZV4YP7hRVG9SbRUocEWmm
</identifier>
<revision>2895</revision>
</docid>
<documentType>eml://ecoinformatics.org/eml-2.0.1</documentType>
<documentURL>http://inigo.lternet.edu/prototype/eml_view1/2869</documentURL>
<FileVid>2814</FileVid>
<Vid>2889</Vid>
<OwnerVid>2888</OwnerVid>
<SitefromdatasetVid>2846</SitefromdatasetVid>
<VariablesVid>2809</VariablesVid>
<VIDadding>28566</VIDadding>
−
<AssociatedResearcher>
<a href="/drupal6-local/?q=node-2799-person">Haero Nisl Zelus Macto Saepius</a>
</AssociatedResearcher>
−
<Contact>
<a href="/drupal6-local/?q=node/2861">Quibus At Laoreet Validus Exputo Usitas</a>
</Contact>
−
<DataFileStructure>
<a href="/drupal6-local/?q=node/2788">datafile1_3</a>
</DataFileStructure>
−
<DataFileStructure>
<a href="/drupal6-local/?q=node/2784">data_file2</a>
</DataFileStructure>
−
<DataManager>
<a href="/drupal6-local/?q=node/2862">Melior Humo Ibidem Veniam Vulpes</a>
</DataManager>
−
<DataManager>
<a href="/drupal6-local/?q=node-2801-person">Decet Vicis Qui</a>
</DataManager>
−
<FieldCrew>
<a href="/drupal6-local/?q=node-2799-person">Haero Nisl Zelus Macto Saepius</a>
</FieldCrew>
−
<FieldCrew>
<a href="/drupal6-local/?q=node/2773">person1</a>
</FieldCrew>
−
<FieldCrew>
<a href="/drupal6-local/?q=node-2801-person">Decet Vicis Qui</a>
</FieldCrew>
−
<FieldCrew>
<a href="/drupal6-local/?q=node/2862">Melior Humo Ibidem Veniam Vulpes</a>
</FieldCrew>
−
<LabCrew>
<a href="/drupal6-local/?q=node/2863">Tego Proprius Decet Ymo</a>
</LabCrew>
−
<LabCrew>
<a href="/drupal6-local/?q=node-2799-person">Haero Nisl Zelus Macto Saepius</a>
</LabCrew>
−
<Owner>
<a href="/drupal6-local/?q=node/2862">Melior Humo Ibidem Veniam Vulpes</a>
</Owner>
−
<Owner>
<a href="/drupal6-local/?q=node/2862">Melior Humo Ibidem Veniam Vulpes</a>
</Owner>
−
<Owner>
<a href="/drupal6-local/?q=node/2778">person2</a>
</Owner>
−
<RelatedBibliography>
<a href="/drupal6-local/?q=node-2837-biblio">Typicus Loquor Bene Si Autem Vulpes Sino</a>
</RelatedBibliography>
−
<RelatedBibliography>
<a href="/drupal6-local/?q=node/2779">biblio1</a>
</RelatedBibliography>
−
<RelatedBibliography>
<a href="/drupal6-local/?q=node/2779">biblio1</a>
</RelatedBibliography>
−
<Site>
<a href="/drupal6-local/?q=node-2820-research_site">Quia Abigo Volutpat</a>
</Site>
−
<Variables>
<a href="/drupal6-local/?q=node/2783">var2</a>
</Variables>
−
<Variables>
<a href="/drupal6-local/?q=node/2791">var4</a>
</Variables>
</document>


<?php         
  $vids = array (
    $data -> node_revisions_vid, 
    $data -> node_node_data_field_dataset_ext_assoc_ref__node_revisions_vid, 
    $data -> node_node_data_field_dataset_contact_ref__node_revisions_vid, 
    $data -> node_node_data_field_dataset_datafile_ref__node_revisions_vid, 
    $data -> node_node_data_field_dataset_datamanager_ref__node_revisions_vid, 
    $data -> node_node_data_field_dataset_fieldcrew_ref__node_revisions_vid, 
    $data -> node_node_data_field_dataset_labcrew_ref__node_revisions_vid, 
    $data -> node_node_data_field_dataset_owner_ref__node_revisions_vid, 
    $data -> node_node_data_field_dataset_site_ref__node_revisions_vid, 
    $data -> node_node_data_field_datafile_site_ref__node_revisions_vid,
    $data -> node_node_data_field_datafile_variable_ref__node_revisions_vid
  );

  $vid_sum = 0;
  foreach ($vids as $vid) {
    $vid_sum .= (int)$vid; 
 }

 print $vid_sum;
?>
     ====================
     
<?php
  // dpr( $data -> node_vid);
  unset($vid_sum);   
  unset($node);
  unset($vid);

  $vid_sum += $data -> node_vid;
          
  $ref_nids = array(
    $data -> node_data_field_dataset_ext_assoc_ref_field_dataset_ext_assoc_ref_nid,
    $data -> node_data_field_dataset_contact_ref_field_dataset_contact_ref_nid,
    $data -> node_data_field_dataset_datafile_ref_field_dataset_datafile_ref_nid,
    $data -> node_data_field_dataset_datamanager_ref_field_dataset_datamanager_ref_nid,
    $data -> node_data_field_dataset_fieldcrew_ref_field_dataset_fieldcrew_ref_nid,
    $data -> node_data_field_dataset_labcrew_ref_field_dataset_labcrew_ref_nid,
    $data -> node_data_field_dataset_owner_ref_field_dataset_owner_ref_nid,
    $data -> node_data_field_dataset_biblio_ref_field_dataset_biblio_ref_nid,
    $data -> node_data_field_dataset_site_ref_field_dataset_site_ref_nid,
    $data -> node_data_field_datafile_site_ref_field_datafile_site_ref_nid,
    $data -> node_data_field_datafile_variable_ref_field_datafile_variable_ref_nid
  );

  foreach ($ref_nids as $ref_arr) {        
    foreach ($ref_arr as $inner_arr) {
      foreach ($inner_arr as $ref_nid) {
        $node = node_load($ref_nid);
        $vid  = $node -> vid;
        // dpr($vid);
        $vid_sum += $vid;                
      }
    }
  }
  
  print $vid_sum;
?>

===============
                  
<?php
 // dpr( $data -> node_vid);
 unset($vid_sum);   
 unset($node);
 unset($vid);

 print "\n<br/>node_vid = ";
 print_r($data -> node_vid);
 $vid_sum += $data -> node_vid;

 $ref_names = array(
   node_data_field_dataset_ext_assoc_ref_field_dataset_ext_assoc_ref_nid,
   node_data_field_dataset_contact_ref_field_dataset_contact_ref_nid,
   node_data_field_dataset_datafile_ref_field_dataset_datafile_ref_nid,
   node_data_field_dataset_datamanager_ref_field_dataset_datamanager_ref_nid,
   node_data_field_dataset_fieldcrew_ref_field_dataset_fieldcrew_ref_nid,
   node_data_field_dataset_labcrew_ref_field_dataset_labcrew_ref_nid,
   node_data_field_dataset_owner_ref_field_dataset_owner_ref_nid,
   node_data_field_dataset_biblio_ref_field_dataset_biblio_ref_nid,
   node_data_field_dataset_site_ref_field_dataset_site_ref_nid,
   node_data_field_datafile_site_ref_field_datafile_site_ref_nid,
   node_data_field_datafile_variable_ref_field_datafile_variable_ref_nid
 );

 foreach ($ref_names as $ref_name) {      
   $ref_node = $data -> $ref_name;
   // print "\n<br/>ref_name = ";
   // print_r($ref_name);
   // print "\n";
   // dpr($ref_node);
   foreach ($ref_node as $inner_arr) {
     foreach ($inner_arr as $ref_nid) {
       $node = node_load($ref_nid);
       $vid  = $node -> vid;
       print "\n<br/>$ref_name = ";
       print_r($vid);
       // dpr($vid);
       $vid_sum += $vid;                
     }
   }
 }

 print $vid_sum;
?>

-----------------


<?php
 // dpr( $data -> node_vid);
 unset($vid_sum);   
 unset($node);
 unset($vid);

 // print "\n<br/>node_vid = ";
 // print_r($data -> node_vid);
 $vid_sum += $data -> node_vid;

 $ref_names = array(
   node_data_field_dataset_ext_assoc_ref_field_dataset_ext_assoc_ref_nid,
   node_data_field_dataset_contact_ref_field_dataset_contact_ref_nid,
   node_data_field_dataset_datafile_ref_field_dataset_datafile_ref_nid,
   node_data_field_dataset_datamanager_ref_field_dataset_datamanager_ref_nid,
   node_data_field_dataset_fieldcrew_ref_field_dataset_fieldcrew_ref_nid,
   node_data_field_dataset_labcrew_ref_field_dataset_labcrew_ref_nid,
   node_data_field_dataset_owner_ref_field_dataset_owner_ref_nid,
   node_data_field_dataset_biblio_ref_field_dataset_biblio_ref_nid,
   node_data_field_dataset_site_ref_field_dataset_site_ref_nid,
   // node_data_field_datafile_site_ref_field_datafile_site_ref_nid
 );

 foreach ($ref_names as $ref_name) {      
   $ref_node = $data -> $ref_name;
   // print "\n<br/>ref_name = ";
   // print_r($ref_name);
   // print "\n";
   // dpr($ref_node);
   foreach ($ref_node as $inner_arr) {
     foreach ($inner_arr as $ref_nid) {
       $node = node_load($ref_nid);
       $vid  = $node -> vid;
       // print "\n<br/>$ref_name = ";
       // print_r($vid);
       // dpr($vid);
       $vid_sum += $vid;                
     }
   }
 }                                                              
 
 foreach ($data -> node_data_field_dataset_datafile_ref_field_dataset_datafile_ref_nid as $file_nids) {
   foreach ($file_nids as $file_nid) {
     $node = node_load($file_nid);
     dpr($node);
     
   }
 }
   
 // }

 print $vid_sum;
?>

============

field_datafile_variable_ref] => Array
    (
        [0] => Array
            (
                [nid] => 2777
            )

        [1] => Array
            (
                [nid] => 2783
            )

        [2] => Array
            (
                [nid] => 2785
            )

    )

[field_datafile_site_ref] => Array

<?php
 unset($vid_sum);   
 unset($ref_node);
 unset($node);
 unset($vid);  
 unset($file_node);
 unset($var_nids);
 unset($file_sites_nids);

 $vid_sum += $data -> node_vid;

 $ref_names = array(
   node_data_field_dataset_ext_assoc_ref_field_dataset_ext_assoc_ref_nid,
   node_data_field_dataset_contact_ref_field_dataset_contact_ref_nid,
   node_data_field_dataset_datafile_ref_field_dataset_datafile_ref_nid,
   node_data_field_dataset_datamanager_ref_field_dataset_datamanager_ref_nid,
   node_data_field_dataset_fieldcrew_ref_field_dataset_fieldcrew_ref_nid,
   node_data_field_dataset_labcrew_ref_field_dataset_labcrew_ref_nid,
   node_data_field_dataset_owner_ref_field_dataset_owner_ref_nid,
   node_data_field_dataset_biblio_ref_field_dataset_biblio_ref_nid,
   node_data_field_dataset_site_ref_field_dataset_site_ref_nid,
 );

 foreach ($ref_names as $ref_name) {      
   $ref_node = $data -> $ref_name;
   foreach ($ref_node as $inner_arr) {
     foreach ($inner_arr as $ref_nid) {
       $node = node_load($ref_nid);
       $vid  = $node -> vid;
       $vid_sum += $vid;                
     }
   }
 }                                                              
 
 foreach ($data -> node_data_field_dataset_datafile_ref_field_dataset_datafile_ref_nid as $file_nids) {
   foreach ($file_nids as $file_nid) {
     $file_node       = node_load($file_nid);
     $var_nids        = $file_node -> field_datafile_variable_ref;
     $file_sites_nids = $file_node -> field_datafile_site_ref; 
     if ($var_nids) {
       foreach ($var_nids as $var_inner) {
         foreach ($var_inner as $var_nid) {  
           $vid_sum += $var_nid;
         }
       }
     }
     if ($file_sites_nids) {
       foreach ($file_sites_nids as $file_site_inner) {
         foreach ($file_site_inner as $file_site_nid) {
           $vid_sum += $file_site_nid;    
         }
       }
     }
   }
 }
   

 print $vid_sum;
?>
--------------
<?php
 unset($vid_sum);   
 unset($ref_node);
 unset($node);
 unset($vid);  
 unset($file_node);
 unset($var_nids);
 unset($file_sites_nids);

 $vid_sum += $data -> node_vid;

 $ref_names = array(
   node_data_field_dataset_ext_assoc_ref_field_dataset_ext_assoc_ref_nid,
   node_data_field_dataset_contact_ref_field_dataset_contact_ref_nid,
   node_data_field_dataset_datafile_ref_field_dataset_datafile_ref_nid,
   node_data_field_dataset_datamanager_ref_field_dataset_datamanager_ref_nid,
   node_data_field_dataset_fieldcrew_ref_field_dataset_fieldcrew_ref_nid,
   node_data_field_dataset_labcrew_ref_field_dataset_labcrew_ref_nid,
   node_data_field_dataset_owner_ref_field_dataset_owner_ref_nid,
   node_data_field_dataset_biblio_ref_field_dataset_biblio_ref_nid,
   node_data_field_dataset_site_ref_field_dataset_site_ref_nid,
 );

 foreach ($ref_names as $ref_name) {      
   $ref_node = $data -> $ref_name;
   foreach ($ref_node as $inner_arr) {
     foreach ($inner_arr as $ref_nid) {
       $node = node_load($ref_nid);
       $vid  = $node -> vid;
       $vid_sum += $vid;                
     }
   }
 }                                                              
 
 foreach ($data -> node_data_field_dataset_datafile_ref_field_dataset_datafile_ref_nid as $file_nids) {
   foreach ($file_nids as $file_nid) {
     $file_node       = node_load($file_nid);
     $var_nids        = $file_node -> field_datafile_variable_ref;
     $file_sites_nids = $file_node -> field_datafile_site_ref; 
     if ($var_nids) {
       foreach ($var_nids as $var_inner) {
         foreach ($var_inner as $var_nid) {  
           $vid_sum += $var_nid;
         }
       }
     }
     if ($file_sites_nids) {
       foreach ($file_sites_nids as $file_site_inner) {
         foreach ($file_site_inner as $file_site_nid) {
           $vid_sum += $file_site_nid;    
         }
       }
     }
   }
 }
   

 print $vid_sum;
?>